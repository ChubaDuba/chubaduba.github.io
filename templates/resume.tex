
\usepackage{listings}
\usepackage{tcolorbox}
\usepackage{minted}

\tcbuselibrary{minted,skins}

\newtcblisting{haskellcode}[1][]{
  listing engine=minted,
  colback=bg,
  colframe=black!70,
  listing only,
  minted style=colorful,
  minted language=haskell,
  minted options={linenos=true,numbersep=3mm,texcl=true,#1},
  left=5mm,enhanced,
  overlay={\begin{tcbclipinterior}\fill[black!25] (frame.south west)
            rectangle ([xshift=5mm]frame.north west);\end{tcbclipinterior}}
}
\definecolor{bg}{rgb}{0.9,0.9,0.9}

\begin{document}
$body$
\end{document}
