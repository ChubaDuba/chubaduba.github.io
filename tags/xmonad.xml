<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"
    xmlns:dc="http://purl.org/dc/elements/1.1/">
    <channel>
        <title>ChubaDuba - Посты с тегом xmonad</title>
        <link>https://chubaduba.github.io/</link>
        <description><![CDATA[Блог ChubaDuba]]></description>
        <atom:link href="https://chubaduba.github.io//tags/xmonad.xml" rel="self"
                   type="application/rss+xml" />
        <lastBuildDate>Tue, 16 Feb 2021 00:00:00 UT</lastBuildDate>
        <item>
    <title>Xmonad. Google переводчик в один клик.</title>
    <link>https://chubaduba.github.io//posts/2021-02-16-1.html</link>
    <description><![CDATA[<p>О том, как можно использовть <code>Scratchpad</code> я уже <a href="https://chubaduba.github.io/posts/2018-04-20-1.html">писал</a>, а сегодня, с помощью него же, организуем быстрый доступ к <code>Google Translate</code> - переводчику Google.</p>
<blockquote>
<p>Я буду пользоваться браузером <code>Chromium.</code> Вы можете использовать свой браузер.</p>
</blockquote>
<p>Для это вносим следующие изменения в наш <code>xmonad.hs</code>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb1-1"><a href="#cb1-1"></a><span class="co">-- Scratchpads</span></span>
<span id="cb1-2"><a href="#cb1-2"></a>scratchpads <span class="ot">=</span> [</span>
<span id="cb1-3"><a href="#cb1-3"></a>         <span class="op">...</span></span>
<span id="cb1-4"><a href="#cb1-4"></a>         <span class="dt">NS</span> <span class="st">&quot;translate&quot;</span> <span class="st">&quot;chromium --app=http://translate.google.com/#&quot;</span></span>
<span id="cb1-5"><a href="#cb1-5"></a>          (className <span class="op">=?</span> <span class="st">&quot;Chromium&quot;</span>)</span>
<span id="cb1-6"><a href="#cb1-6"></a>          (customFloating <span class="op">$</span> <span class="dt">W.RationalRect</span> <span class="dv">0</span> <span class="fl">0.6</span> <span class="dv">1</span> <span class="fl">0.4</span>)</span>
<span id="cb1-7"><a href="#cb1-7"></a>         <span class="op">...</span></span>
<span id="cb1-8"><a href="#cb1-8"></a>        ]</span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="op">...</span></span>
<span id="cb1-10"><a href="#cb1-10"></a></span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="co">-- Keybindings</span></span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="co">-- Scratchpads</span></span>
<span id="cb1-13"><a href="#cb1-13"></a>         <span class="op">...</span></span>
<span id="cb1-14"><a href="#cb1-14"></a>         , ((mod4Mask <span class="op">.|.</span> shiftMask,     xK_t), namedScratchpadAction scratchpads <span class="st">&quot;translate&quot;</span>)</span>
<span id="cb1-15"><a href="#cb1-15"></a>         <span class="op">...</span></span></code></pre></div>
<p>Вот как это выглядит после нажатия комбинации клавиш, которую вы указали в конфиге: <a href="http://www.imagebam.com/image/d968f11370378788"><img src="https://thumbs2.imagebam.com/bc/74/51/d968f11370378788.jpg" alt="ImageBam image upload"></a></p>]]></description>
    <pubDate>Tue, 16 Feb 2021 00:00:00 UT</pubDate>
    <guid>https://chubaduba.github.io//posts/2021-02-16-1.html</guid>
    <dc:creator>ChubaDuba</dc:creator>
</item>
<item>
    <title>Запуск браузера Lynx через Tor.</title>
    <link>https://chubaduba.github.io//posts/2019-09-21-1.html</link>
    <description><![CDATA[<p>Если у вас в системе не установлент <code>Tor</code>, то его нужно сначала установить…</p>
<blockquote>
<p>Все последующие действия по установке <code>Tor</code> справедливы для <code>Debian 9 Stretch</code>.</p>
</blockquote>
<p>Добавим репозиторий для <code>Tor</code>. Для этого создадим в <code>/etc/apt/sources.list.d</code> файл <code>tor.list</code> со следующим содержимым:</p>
<hr />
<pre><code># Tor
# deb http://deb.torproject.org/torproject.org stretch main
deb-src http://deb.torproject.org/torproject.org stretch main
</code></pre>
<hr />
<p>После этого нужно обновить список пакетов и установить сам <code>Tor</code>:</p>
<pre><code>$ sudo apt-get update
$ sudo apt-get install tor
</code></pre>
<p>После того как всё установилось, на всякий пожарный проверим что <code>Tor</code> у нас заработал:</p>
<p><a href="http://www.imagebam.com/image/13f6ca1314793291"><img src="https://thumbs2.imagebam.com/9e/3c/59/13f6ca1314793291.jpg" alt="imagebam.com"></a></p>
<p>Из выхлопа видно, что <code>Tor</code> у нас работает. Теперь осталось настроить работу браузера <code>Lynx</code> через <code>Tor</code>…</p>
<p>Пишем скрипт, я обозвал его <code>lynxtor</code>:</p>
<hr />
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb3-2"><a href="#cb3-2"></a></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="va">PATH=$PATH</span>:/etc/torsocks.conf</span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="bu">export</span> <span class="va">PATH</span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="ex">torsocks</span> lynx -noreferer <span class="op">2&gt;</span> /dev/null</span></code></pre></div>
<hr />
<p>И последнее, что остаётся сделать - назначить в <code>xmonad</code> горячую клавишу для запуска этого скрипта. У себя в <code>xmonad.hs</code> я добавил:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb4-1"><a href="#cb4-1"></a><span class="co">-- Keybindings</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>myKeys <span class="ot">=</span> [ <span class="op">...</span></span>
<span id="cb4-3"><a href="#cb4-3"></a>         , ((mod4Mask <span class="op">.|.</span> controlMask, xK_i), spawn <span class="st">&quot;urxvt -e /home/chubaduba/scripts/lynxtor&quot;</span>)</span>
<span id="cb4-4"><a href="#cb4-4"></a>         <span class="op">...</span></span>
<span id="cb4-5"><a href="#cb4-5"></a>         ]</span></code></pre></div>
<p>Остаётся перекомпилировать и перезагрузить <code>xmonad</code>, чтобы все изменения вступили в силу. Теперь при нажатии комбинации клавиш <code>mod4Mask + Ctrl + i</code> у нас будет запускаться браузер <code>Lynx</code> трафик которого будет идти через <code>Tor</code>.</p>]]></description>
    <pubDate>Sat, 21 Sep 2019 00:00:00 UT</pubDate>
    <guid>https://chubaduba.github.io//posts/2019-09-21-1.html</guid>
    <dc:creator>ChubaDuba</dc:creator>
</item>
<item>
    <title>Xmonad. XMonad.Actions.Search</title>
    <link>https://chubaduba.github.io//posts/2019-06-30-1.html</link>
    <description><![CDATA[<p><a href="http://hackage.haskell.org/package/xmonad-contrib-0.15/docs/XMonad-Actions-Search.html">XMonad.Actions.Search</a> - удобный инструмент для быстрого поиска информации в internet. Как видно из описания, модуль поддерживает большое количество поисковых движков. Я сравнительно часто пользуюсь тремя:</p>
<p><code>deb</code> - Debian package search;<br />
<code>duckduckgo</code> - DuckDuckGo search engine;<br />
<code>youtube</code> - Youtube video search.</p>
<p>поэтому и добавил функционал только для них.</p>
<p>Чтобы всё это у нас заработало, первым делом добавим модуль <code>XMonad.Actions.Search</code> в наш файл конфигурации <code>xmonad.hs</code>:</p>
<hr />
<div class="sourceCode" id="cb1"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">import</span> <span class="dt">XMonad.Actions.Search</span></span></code></pre></div>
<hr />
<p>Второе, что необходимо сделать - это сконфигурировать окно, в которое мы будем вводить поисковый запрос. Добавляем в <code>xmonad.hs</code>:</p>
<hr />
<div class="sourceCode" id="cb2"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb2-1"><a href="#cb2-1"></a><span class="co">-- Search Prompt</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>mySearchConfig <span class="ot">=</span> def</span>
<span id="cb2-3"><a href="#cb2-3"></a>        { font                <span class="ot">=</span> myFont</span>
<span id="cb2-4"><a href="#cb2-4"></a>        , bgColor             <span class="ot">=</span> <span class="st">&quot;#1E2320&quot;</span></span>
<span id="cb2-5"><a href="#cb2-5"></a>        , fgColor             <span class="ot">=</span> <span class="st">&quot;#E0AF8F&quot;</span></span>
<span id="cb2-6"><a href="#cb2-6"></a>        , promptBorderWidth   <span class="ot">=</span> <span class="dv">0</span> </span>
<span id="cb2-7"><a href="#cb2-7"></a>        , position            <span class="ot">=</span> <span class="dt">Top</span></span>
<span id="cb2-8"><a href="#cb2-8"></a>        , historySize         <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb2-9"><a href="#cb2-9"></a>        , historyFilter       <span class="ot">=</span> deleteConsecutive</span>
<span id="cb2-10"><a href="#cb2-10"></a>        }</span></code></pre></div>
<hr />
<p>Здесь ничего объяснять, думаю, не нужно. Все параметры задаются в зависимости от личных предпочтений пользователя.</p>
<p>И последнее, что нужно сделать - это добавить в конфигурационный файл сочетания горячих клавиш для каждого поискового движка.<br />
Я выбрал следующие сочетания:</p>
<p><code>deb</code> - mod4 + Shift + d;<br />
<code>duckduckgo</code> - mod4 + Shift + s;<br />
<code>youtube</code> - mod4 + Shift + y.</p>
<p>Соответственно добавляем в конфиг:</p>
<hr />
<div class="sourceCode" id="cb3"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb3-1"><a href="#cb3-1"></a><span class="co">-- Search prompt</span></span>
<span id="cb3-2"><a href="#cb3-2"></a>, ((mod4Mask <span class="op">.|.</span> shiftMask, xK_s), promptSearchBrowser mySearchConfig myBrowser duckduckgo)</span>
<span id="cb3-3"><a href="#cb3-3"></a>, ((mod4Mask <span class="op">.|.</span> shiftMask, xK_y), promptSearchBrowser mySearchConfig myBrowser youtube)</span>
<span id="cb3-4"><a href="#cb3-4"></a>, ((mod4Mask <span class="op">.|.</span> shiftMask, xK_d), promptSearchBrowser mySearchConfig myBrowser deb)</span></code></pre></div>
<hr />
<p>где</p>
<p><code>mySearchConfig</code> - имя нашего окна, которое мы сконфигурировали ранее; <code>myBrowser</code> - браузер используемый по умолчанию.</p>
<p>Я пользуюсь браузером <code>Chromium</code> поэтому в <code>hmonad.hs</code> прописал константу:</p>
<hr />
<div class="sourceCode" id="cb4"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb4-1"><a href="#cb4-1"></a>myBrowser <span class="ot">=</span> <span class="st">&quot;chromium&quot;</span></span></code></pre></div>
<hr />
<blockquote>
<p>Если вы используете несколько браузеров, то вместо <code>myBrowser</code> можно прописать имя конкретного браузера. Тогда результаты поискового запроса для каждого движка будут открываться в разных браузерах, согласно тому, что вы указали.</p>
</blockquote>
<p>Остаётся перекомпилировать и перезагрузить <code>xmonad</code>, чтобы все изменения вступили в силу.</p>
<p>А вот как это выглядит, например, при нажатии сочетания клавиш <code>mod4 + Shift + s</code>:</p>
<p><a href="http://www.imagebam.com/image/6c72731264837784"><img src="http://thumbs2.imagebam.com/69/d0/d0/6c72731264837784.jpg" alt="imagebam.com"></a></p>]]></description>
    <pubDate>Sun, 30 Jun 2019 00:00:00 UT</pubDate>
    <guid>https://chubaduba.github.io//posts/2019-06-30-1.html</guid>
    <dc:creator>ChubaDuba</dc:creator>
</item>
<item>
    <title>XMonad.Layout.IM - отличный layout для Tkabber.</title>
    <link>https://chubaduba.github.io//posts/2019-02-13-1.html</link>
    <description><![CDATA[<p>Если вы активно используете клиент мгновенного обмена сообщениями Tkabber, то непременно оцените удобство использования <a href="https://hackage.haskell.org/package/xmonad-contrib-0.13/docs/XMonad-Layout-IM.html">Xmonad.Layout.IM</a>.</p>
<blockquote>
<p>С некоторыми изменениями данный layout можно использовать в связке с такими клиентами как Gajim и Psi+</p>
</blockquote>
<p>Добавляем в наш <code>~/.xmonad/xmonad.hs</code> следующие модули:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">import</span> <span class="dt">XMonad.Layout.IM</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw">import</span> <span class="dt">Data.Ratio</span> ((%))</span></code></pre></div>
<p>И теперь в секции где мы перечисляем все наши layout’ы непосредственно добавляем сам layout:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb2-1"><a href="#cb2-1"></a>myLayouts <span class="ot">=</span> <span class="op">...|||...|||</span> withIM (<span class="dv">1</span><span class="op">%</span><span class="dv">7</span>) (<span class="dt">ClassName</span> <span class="st">&quot;Tkabber&quot;</span>) <span class="dt">Grid</span></span></code></pre></div>
<blockquote>
<p>В настройках Tkabber нужно снять галочку с “Использовать интерфес с закладками”.</p>
</blockquote>
<p><a href="http://www.imagebam.com/image/08044c1125477374"><img src="http://thumbs2.imagebam.com/ae/df/c5/08044c1125477374.jpg" alt="imagebam.com"></a></p>]]></description>
    <pubDate>Wed, 13 Feb 2019 00:00:00 UT</pubDate>
    <guid>https://chubaduba.github.io//posts/2019-02-13-1.html</guid>
    <dc:creator>ChubaDuba</dc:creator>
</item>
<item>
    <title>XMonad.Layout.Spacing</title>
    <link>https://chubaduba.github.io//posts/2019-01-11-1.html</link>
    <description><![CDATA[<p>Очередная заметка по настройке <code>xmonad</code>. <a href="https://hackage.haskell.org/package/xmonad-contrib-0.13/docs/XMonad-Layout-Spacing.html">XMonad.Layout.Spacing</a> позволяет добавить отступы вокруг открытых окон. Наличие отступов даёт лучшую визуализацию на<br />
экране компьютера при работе с несколькими отрытыми окнами.</p>
<blockquote>
<p>Чтобы добавить отступы ко всем окнам, за исключением случаев, когда окно является единственным видимым окном в текущей рабочей области, нужно использовать функцию <code>smartSpacing</code>. Если использовать функцию <code>spacing</code>, то заданное свободное простраство вокруг окон будет добавляться в любом случае.</p>
</blockquote>
<p>Добавляем в наш <code>xmonad.hs</code> данный модуль:</p>
<pre class="haskel"><code>import XMonad.Layout.Spacing
</code></pre>
<p>После чего модифицируем секцию <code>Layouts</code>. В моём случае это выглядит так:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb2-1"><a href="#cb2-1"></a><span class="co">-- Layouts</span></span>
<span id="cb2-2"><a href="#cb2-2"></a>myLayouts <span class="ot">=</span> minimize (avoidStruts tiled</span>
<span id="cb2-3"><a href="#cb2-3"></a>           <span class="op">|||</span> threecolmid</span>
<span id="cb2-4"><a href="#cb2-4"></a>           <span class="op">|||</span> onebig</span>
<span id="cb2-5"><a href="#cb2-5"></a>           <span class="op">|||</span> imTkabber</span>
<span id="cb2-6"><a href="#cb2-6"></a>           <span class="op">|||</span> full)</span>
<span id="cb2-7"><a href="#cb2-7"></a> <span class="kw">where</span></span>
<span id="cb2-8"><a href="#cb2-8"></a>    tiled   <span class="ot">=</span> smartSpacing <span class="dv">5</span> <span class="op">$</span> <span class="dt">ResizableTall</span> nmaster delta ratio []</span>
<span id="cb2-9"><a href="#cb2-9"></a>    nmaster <span class="ot">=</span> <span class="dv">1</span></span>
<span id="cb2-10"><a href="#cb2-10"></a>    ratio   <span class="ot">=</span> <span class="dv">1</span><span class="op">/</span><span class="dv">2</span></span>
<span id="cb2-11"><a href="#cb2-11"></a>    delta   <span class="ot">=</span> <span class="dv">3</span><span class="op">/</span><span class="dv">100</span></span>
<span id="cb2-12"><a href="#cb2-12"></a></span>
<span id="cb2-13"><a href="#cb2-13"></a><span class="co">-- basic layouts</span></span>
<span id="cb2-14"><a href="#cb2-14"></a>full        <span class="ot">=</span> noBorders <span class="dt">Full</span></span>
<span id="cb2-15"><a href="#cb2-15"></a>onebig      <span class="ot">=</span> smartSpacing <span class="dv">5</span> <span class="op">$</span> <span class="dt">OneBig</span> (<span class="dv">3</span><span class="op">/</span><span class="dv">4</span>) (<span class="dv">3</span><span class="op">/</span><span class="dv">4</span>)</span>
<span id="cb2-16"><a href="#cb2-16"></a>threecolmid <span class="ot">=</span> smartSpacing <span class="dv">5</span> <span class="op">$</span> <span class="dt">ThreeColMid</span> <span class="dv">1</span> (<span class="dv">3</span><span class="op">/</span><span class="dv">100</span>) (<span class="dv">1</span><span class="op">/</span><span class="dv">2</span>)</span>
<span id="cb2-17"><a href="#cb2-17"></a>imTkabber   <span class="ot">=</span> withIM (<span class="dv">1</span><span class="op">%</span><span class="dv">7</span>) (<span class="dt">ClassName</span> <span class="st">&quot;Tkabber&quot;</span>) <span class="dt">Grid</span></span></code></pre></div>
<p>Если в какой-то компановке вам не нужны отступы, то просто не прописывайте их. Например, я в компановке окон <code>imTkabber</code> отступы не использую.</p>
<p>Остаётся сохранить <code>xmonad.hs</code> и перекомпилировать наш <code>xmonad</code>.</p>
<blockquote>
<p>Чтобы изменения вступили в силу необходимо перезайти в систему!</p>
</blockquote>
<p><a href="http://www.imagebam.com/image/117ff11059555284"><img src="http://thumbs2.imagebam.com/3b/1a/0f/117ff11059555284.jpg" alt="imagebam.com"></a></p>]]></description>
    <pubDate>Fri, 11 Jan 2019 00:00:00 UT</pubDate>
    <guid>https://chubaduba.github.io//posts/2019-01-11-1.html</guid>
    <dc:creator>ChubaDuba</dc:creator>
</item>
<item>
    <title>Xmonad. Загоняем калькулятор в Prompt.</title>
    <link>https://chubaduba.github.io//posts/2018-06-04-1.html</link>
    <description><![CDATA[<p>Давно хотелось сделать работу с калькулятором в xmonad удобной. Чтобы он был всегда под рукой, и чтобы не делать лишних телодвижений с окном программы.</p>
<p>В своей системе я пользуюсь консольным калькулятором <a href="http://www.isthe.com/chongo/tech/comp/calc/calc-mirror.html">Calc</a>. Было найдено оригинальное решение, которое позволяет расположить калькулятор в строке ввода команд <code>Prompt</code>. Что такое <code>Prompt</code> и как это работает, я уже <a href="https://chubaduba.github.io/posts/2018-04-19-1.html">писал раньше</a>.</p>
<p>Все изменения будем делать в файле конфигурации xmonad <code>xmonad.hs</code>. Первое, что я сделал - сконфигурировал саму строку ввода, в которой будет открываться калькулятор:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb1-1"><a href="#cb1-1"></a><span class="co">-- Calc Prompt</span></span>
<span id="cb1-2"><a href="#cb1-2"></a>myCalcConfig <span class="ot">=</span> def</span>
<span id="cb1-3"><a href="#cb1-3"></a>        { font                <span class="ot">=</span> myFont</span>
<span id="cb1-4"><a href="#cb1-4"></a>        , bgColor             <span class="ot">=</span> <span class="st">&quot;#1E2320&quot;</span></span>
<span id="cb1-5"><a href="#cb1-5"></a>        , fgColor             <span class="ot">=</span> <span class="st">&quot;#DBA3A2&quot;</span></span>
<span id="cb1-6"><a href="#cb1-6"></a>        , promptBorderWidth   <span class="ot">=</span> <span class="dv">0</span> </span>
<span id="cb1-7"><a href="#cb1-7"></a>        , position            <span class="ot">=</span> <span class="dt">Top</span></span>
<span id="cb1-8"><a href="#cb1-8"></a>        }</span></code></pre></div>
<p>Тут всё просто. Задал шрифт, цвет фона и цвет шрифта, а также месторасположение строки. В моём случае окно калькулятора будет распологаться вверху экрана, перекрывая <code>xmobar</code>.</p>
<p>Вторым шагом добавляем саму функцию, которая будет открывать калькулятор:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb2-1"><a href="#cb2-1"></a><span class="co">-- Calculator</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="ot">calcPrompt ::</span> <span class="dt">XPConfig</span> <span class="ot">-&gt;</span> <span class="dt">String</span> <span class="ot">-&gt;</span> <span class="dt">X</span> () </span>
<span id="cb2-3"><a href="#cb2-3"></a>calcPrompt c ans <span class="ot">=</span></span>
<span id="cb2-4"><a href="#cb2-4"></a>    inputPrompt c (trim ans) <span class="op">?+</span> \input <span class="ot">-&gt;</span> </span>
<span id="cb2-5"><a href="#cb2-5"></a>        liftIO(runProcessWithInput <span class="st">&quot;calc&quot;</span> [input] <span class="st">&quot;&quot;</span>) <span class="op">&gt;&gt;=</span> calcPrompt c </span>
<span id="cb2-6"><a href="#cb2-6"></a>    <span class="kw">where</span></span>
<span id="cb2-7"><a href="#cb2-7"></a>        trim  <span class="ot">=</span> f <span class="op">.</span> f</span>
<span id="cb2-8"><a href="#cb2-8"></a>            <span class="kw">where</span> f <span class="ot">=</span> <span class="fu">reverse</span> <span class="op">.</span> <span class="fu">dropWhile</span> <span class="fu">isSpace</span></span></code></pre></div>
<p>И последнее, что нужно сделать, это добавить в конфигурационный файл комбинацию клавиш, при нажатии которой будет открываться калькулятор:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb3-1"><a href="#cb3-1"></a>, ((mod4Mask,     xK_c), calcPrompt myCalcConfig <span class="st">&quot;calc&quot;</span>)</span></code></pre></div>
<p>Теперь при нажатии клавиш <code>mod4 + c</code> на месте <code>xmobar</code> открывается окно калькулятора. Закрыть его можно, нажав кнопку <code>Esc</code>.</p>
<p><img src="http://images2.imagebam.com/b9/e6/76/20f91e885153304.png" /></p>]]></description>
    <pubDate>Mon, 04 Jun 2018 00:00:00 UT</pubDate>
    <guid>https://chubaduba.github.io//posts/2018-06-04-1.html</guid>
    <dc:creator>ChubaDuba</dc:creator>
</item>
<item>
    <title>Xmonad. Middle Column Layout</title>
    <link>https://chubaduba.github.io//posts/2018-05-15-1.html</link>
    <description><![CDATA[<p><code>Middle Column Layout</code> - компоновка окон для xmonad, которая подойдёт владельцам широких экранов.</p>
<p><a href="http://www.imagebam.com/image/0fd3a3855481774"><img src="http://thumbs2.imagebam.com/ad/e6/6a/0fd3a3855481774.jpg" alt="ImageBam image upload"></a></p>
<p><a href="https://github.com/chrissound/XMonadLayouts">Страничка автора на GitHub</a></p>
<p>Демо ролик: <iframe width=100% height="240" src="https://www.youtube.com/embed/e5GTCpzL3OY" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></p>]]></description>
    <pubDate>Tue, 15 May 2018 00:00:00 UT</pubDate>
    <guid>https://chubaduba.github.io//posts/2018-05-15-1.html</guid>
    <dc:creator>ChubaDuba</dc:creator>
</item>
<item>
    <title>Xmonad. Окно, которое всегда под рукой.</title>
    <link>https://chubaduba.github.io//posts/2018-04-20-1.html</link>
    <description><![CDATA[<p>При работе иногда бывает удобно иметь под рукой какое-нибудь открытое приложение, например, окно терминала, файловый менеджер или любую другую программу, к которой необходим быстрый доступ. В <code>xmonad</code> есть утилита <a href="https://hackage.haskell.org/package/xmonad-contrib-0.13/docs/XMonad-Util-NamedScratchpad.html">XMonad.Util.NamedScratchpad</a>, которая позволяет организовать работу с приложениями таким образом.</p>
<p>Я покажу как работает эта утилита на примере эмулятора терминала <a href="http://software.schmorp.de/pkg/rxvt-unicode.html">urxvt</a> и файлового менеджера <a href="https://ignorantguru.github.io/spacefm/">SpaceFM</a>.</p>
<p>Добавляем утилиту в наш конфигурационный файл <code>xmonad.hs</code>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">import</span> <span class="dt">XMonad.Util.NamedScratchpad</span></span></code></pre></div>
<p>В секцию myManageHook добавляем:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb2-1"><a href="#cb2-1"></a>myManageHook <span class="ot">=</span>  composeAll <span class="op">$</span></span>
<span id="cb2-2"><a href="#cb2-2"></a></span>
<span id="cb2-3"><a href="#cb2-3"></a>         [ <span class="op">...</span></span>
<span id="cb2-4"><a href="#cb2-4"></a>         , <span class="op">...</span></span>
<span id="cb2-5"><a href="#cb2-5"></a>         , <span class="op">...</span></span>
<span id="cb2-6"><a href="#cb2-6"></a>         ]</span>
<span id="cb2-7"><a href="#cb2-7"></a>         </span>
<span id="cb2-8"><a href="#cb2-8"></a>         <span class="op">++</span> [namedScratchpadManageHook scratchpads]</span>
<span id="cb2-9"><a href="#cb2-9"></a><span class="op">...</span></span></code></pre></div>
<p>Пишем правила для приложений. В нашем случае для <code>urxvt</code> и s<code>pacefm</code>:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb3-1"><a href="#cb3-1"></a>scratchpads <span class="ot">=</span> [</span>
<span id="cb3-2"><a href="#cb3-2"></a>            </span>
<span id="cb3-3"><a href="#cb3-3"></a>              <span class="dt">NS</span> <span class="st">&quot;terminal&quot;</span> <span class="st">&quot;urxvt -name scratchpad&quot;</span></span>
<span id="cb3-4"><a href="#cb3-4"></a>                (wm_name <span class="op">=?</span> <span class="st">&quot;scratchpad&quot;</span>)</span>
<span id="cb3-5"><a href="#cb3-5"></a>                (customFloating <span class="op">$</span> <span class="dt">W.RationalRect</span> <span class="dv">0</span> <span class="fl">0.9</span> <span class="dv">1</span> <span class="fl">0.1</span>),</span>
<span id="cb3-6"><a href="#cb3-6"></a>              </span>
<span id="cb3-7"><a href="#cb3-7"></a>              <span class="dt">NS</span> <span class="st">&quot;spacefm&quot;</span> <span class="st">&quot;spacefm&quot;</span></span>
<span id="cb3-8"><a href="#cb3-8"></a>                (className <span class="op">=?</span> <span class="st">&quot;Spacefm&quot;</span>)</span>
<span id="cb3-9"><a href="#cb3-9"></a>                (customFloating <span class="op">$</span> <span class="dt">W.RationalRect</span> <span class="dv">0</span> <span class="fl">0.6</span> <span class="dv">1</span> <span class="fl">0.4</span>),</span>
<span id="cb3-10"><a href="#cb3-10"></a>            </span>
<span id="cb3-11"><a href="#cb3-11"></a>              ]</span>
<span id="cb3-12"><a href="#cb3-12"></a>              </span>
<span id="cb3-13"><a href="#cb3-13"></a>              <span class="kw">where</span></span>
<span id="cb3-14"><a href="#cb3-14"></a>                    wm_name <span class="ot">=</span> stringProperty <span class="st">&quot;WM_NAME&quot;</span></span></code></pre></div>
<p>“Вешаем” на нужные нам клавиши:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb4-1"><a href="#cb4-1"></a>myKeys <span class="ot">=</span> [</span>
<span id="cb4-2"><a href="#cb4-2"></a>           <span class="op">...</span></span>
<span id="cb4-3"><a href="#cb4-3"></a>         , ((<span class="dv">0</span>,        <span class="bn">0xffbe</span>), namedScratchpadAction scratchpads <span class="st">&quot;terminal&quot;</span>)</span>
<span id="cb4-4"><a href="#cb4-4"></a>         , ((mod4Mask,   xK_f), namedScratchpadAction scratchpads <span class="st">&quot;spacefm&quot;</span>)</span>
<span id="cb4-5"><a href="#cb4-5"></a>         <span class="op">...</span></span>
<span id="cb4-6"><a href="#cb4-6"></a>         ]</span></code></pre></div>
<p>Готово. Открыть, скрыть/показать терминал: <code>F1</code><br />
Открыть, скрыть/показать файловый менеджер: <code>mod4Mask+f</code><br />
Чтобы открыть терминал в обычном режиме используем клавиши по умолчанию: <code>mod4Mask+Shift+Enter</code>.</p>
<p><a href="http://www.imagebam.com/image/556917828853913"><img src="http://thumbs2.imagebam.com/49/5f/5e/556917828853913.jpg" alt="ImageBam image upload"></a></p>
<p><a href="http://www.imagebam.com/image/580398828854143"><img src="http://thumbs2.imagebam.com/e9/17/ca/580398828854143.jpg" alt="ImageBam image upload"></a></p>
<p>На самом деле окна не скрываются и не закрываются, а переносятся на скрытый рабочий стол с именем <code>NSP</code>, который будет отображаться в <code>xmobar</code>:</p>
<p><img src="http://images2.imagebam.com/81/03/6c/e6b6c5828931143.png" /></p>
<p>Таким же способом можно запускать программу в терминале. Например, у меня по <code>F2</code> запускается календарь:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb5-1"><a href="#cb5-1"></a>scratchpads <span class="ot">=</span> [</span>
<span id="cb5-2"><a href="#cb5-2"></a>         <span class="op">...</span></span>
<span id="cb5-3"><a href="#cb5-3"></a>       </span>
<span id="cb5-4"><a href="#cb5-4"></a>         <span class="dt">NS</span> <span class="st">&quot;cal&quot;</span> <span class="st">&quot;urxvt -name cal -hold -e cal -y&quot;</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>           (wm_name <span class="op">=?</span> <span class="st">&quot;cal&quot;</span>)</span>
<span id="cb5-6"><a href="#cb5-6"></a>           (customFloating <span class="op">$</span> <span class="dt">W.RationalRect</span> <span class="fl">0.58</span> <span class="fl">0.023</span> <span class="fl">0.42</span> <span class="fl">0.82</span>),</span>
<span id="cb5-7"><a href="#cb5-7"></a>         <span class="op">...</span></span>
<span id="cb5-8"><a href="#cb5-8"></a>         ]</span>
<span id="cb5-9"><a href="#cb5-9"></a></span>
<span id="cb5-10"><a href="#cb5-10"></a>myKeys <span class="ot">=</span> [</span>
<span id="cb5-11"><a href="#cb5-11"></a>         <span class="op">...</span></span>
<span id="cb5-12"><a href="#cb5-12"></a>         , ((<span class="dv">0</span>,     <span class="bn">0xffbf</span>), namedScratchpadAction scratchpads <span class="st">&quot;cal&quot;</span>)</span>
<span id="cb5-13"><a href="#cb5-13"></a>         <span class="op">...</span></span>
<span id="cb5-14"><a href="#cb5-14"></a>         ]</span></code></pre></div>
<p><a href="http://www.imagebam.com/image/9fae33828854383"><img src="http://thumbs2.imagebam.com/6c/52/db/9fae33828854383.jpg" alt="ImageBam image upload"></a></p>]]></description>
    <pubDate>Fri, 20 Apr 2018 00:00:00 UT</pubDate>
    <guid>https://chubaduba.github.io//posts/2018-04-20-1.html</guid>
    <dc:creator>ChubaDuba</dc:creator>
</item>
<item>
    <title>Cтрока ввода команд в Xmonad.</title>
    <link>https://chubaduba.github.io//posts/2018-04-19-1.html</link>
    <description><![CDATA[<p>Сегодня расскажу об очень удобной, на мой взгляд, фишке, которой я постоянно пользуюсь при использовании xmonad. Речь пойдёт о <font color="#92E0E2"><em>строке ввода команд</em></font>. Реализуется это двумя модулями <a href="http://hackage.haskell.org/package/xmonad-contrib-0.13/docs/XMonad-Prompt.html">XMonad.Prompt</a> и <a href="http://hackage.haskell.org/package/xmonad-contrib-0.13/docs/XMonad-Prompt-Shell.html">XMonad.Prompt.Shell</a>. Добавляем эти модули в наш <code>xmonad.hs</code>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb1-1"><a href="#cb1-1"></a><span class="kw">import</span> <span class="dt">XMonad.Prompt</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw">import</span> <span class="dt">XMonad.Prompt.Shell</span></span></code></pre></div>
<p>Ну и, конечно, нужно задать комбинацию клавиш, при нажатии которой будет открываться строка ввода. Для себя я выбрал комбинацию <code>mod4Mask+p</code>. Добавляем её в наш конфиг:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb2-1"><a href="#cb2-1"></a>, ((mod4Mask,   xK_p), shellPrompt defaultXPConfig)</span></code></pre></div>
<p>После внесения всех этих изменений, при нажатии выбранной комбинации в нижней части экрана будет появляться строка ввода. Закрыть её можно нажав клавишу <code>Esc</code>:</p>
<p><a href="http://www.imagebam.com/image/b83a7b825534583"><img src="http://thumbs2.imagebam.com/bf/b6/b7/b83a7b825534583.jpg" alt="ImageBam image upload"></a></p>
<p>Мне не понравилось то, что строка открывается внизу экрана, имеет очень мелкий шрифт, и её цветовое оформление не сочетается с моими настройками. Чтобы всё это изменить, я добавил в <code>xmonad.hs</code> свою конфигурацию окна строки ввода <code>myXPConfig</code>, в которой указал нужные мне параметры:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb3-1"><a href="#cb3-1"></a> <span class="co">-- Prompt</span></span>
<span id="cb3-2"><a href="#cb3-2"></a></span>
<span id="cb3-3"><a href="#cb3-3"></a>myXPConfig <span class="ot">=</span> defaultXPConfig</span>
<span id="cb3-4"><a href="#cb3-4"></a>         { font                <span class="ot">=</span> myFont</span>
<span id="cb3-5"><a href="#cb3-5"></a>         , bgColor             <span class="ot">=</span> <span class="st">&quot;#2F2F2F&quot;</span></span>
<span id="cb3-6"><a href="#cb3-6"></a>         , fgColor             <span class="ot">=</span> <span class="st">&quot;#709180&quot;</span></span>
<span id="cb3-7"><a href="#cb3-7"></a>         , bgHLight            <span class="ot">=</span> <span class="st">&quot;#2F2F2F&quot;</span></span>
<span id="cb3-8"><a href="#cb3-8"></a>         , fgHLight            <span class="ot">=</span> <span class="st">&quot;#F0E0AF&quot;</span></span>
<span id="cb3-9"><a href="#cb3-9"></a>         , promptBorderWidth   <span class="ot">=</span> <span class="dv">0</span> </span>
<span id="cb3-10"><a href="#cb3-10"></a>         , position            <span class="ot">=</span> <span class="dt">Top</span></span>
<span id="cb3-11"><a href="#cb3-11"></a>         , height              <span class="ot">=</span> <span class="dv">20</span></span>
<span id="cb3-12"><a href="#cb3-12"></a>         , historySize         <span class="ot">=</span> <span class="dv">100</span> </span>
<span id="cb3-13"><a href="#cb3-13"></a>         , historyFilter       <span class="ot">=</span> deleteConsecutive</span>
<span id="cb3-14"><a href="#cb3-14"></a>         }</span></code></pre></div>
<p>Соответственно, внёс изменения для комбинации клавиш, заменив <code>defaultXPConfig</code> на <code>myXPConfig</code>. Теперь строчка в конфиге будет иметь вот такой вид:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb4-1"><a href="#cb4-1"></a>, ((mod4Mask,   xK_p), shellPrompt myXPConfig)</span></code></pre></div>
<p>После этих изменений всё стало так, как нужно мне:</p>
<p><a href="http://www.imagebam.com/image/fb0f65825574363"><img src="http://thumbs2.imagebam.com/6a/e0/07/fb0f65825574363.jpg" alt="ImageBam image upload"></a></p>
<p><a href="http://www.imagebam.com/image/55a8e6825581853"><img src="http://thumbs2.imagebam.com/00/71/42/55a8e6825581853.jpg" alt="ImageBam image upload"></a></p>
<p>Чтобы каждый раз не вводить в строку однотипные команды, например, команду <code>urxvt -e</code> для открытия консольного приложения в новом окне терминала, эту команду можно прописать в <code>myXPConfig</code> следующим образом:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb5-1"><a href="#cb5-1"></a>myXPConfig <span class="ot">=</span> defaultXPConfig</span>
<span id="cb5-2"><a href="#cb5-2"></a>         { <span class="op">...</span></span>
<span id="cb5-3"><a href="#cb5-3"></a>         , defaultText <span class="ot">=</span> <span class="st">&quot;urxvt -e&quot;</span></span>
<span id="cb5-4"><a href="#cb5-4"></a>         <span class="op">...</span></span>
<span id="cb5-5"><a href="#cb5-5"></a>         }</span></code></pre></div>
<p>Теперь при запуске строка ввода будет иметь такой вид:</p>
<p><img src="http://images2.imagebam.com/96/25/02/88856e825632023.png" /></p>
<p>На этом сегодня всё. О других способах использования строки ввода <code>XMonad.Prompt</code> я обязательно расскажу позднее.</p>]]></description>
    <pubDate>Thu, 19 Apr 2018 00:00:00 UT</pubDate>
    <guid>https://chubaduba.github.io//posts/2018-04-19-1.html</guid>
    <dc:creator>ChubaDuba</dc:creator>
</item>
<item>
    <title>Xmonad. Чем сделать скриншот?</title>
    <link>https://chubaduba.github.io//posts/2018-04-02-1.html</link>
    <description><![CDATA[<p>Cогласитесь, частенько возникает ситуация, когда необходимо сделать скриншот экрана. Сегодня поговорим как это сделать в xmonad без использования таких монстров как <a href="http://shutter-project.org/">shutter</a>, <a href="https://git.gnome.org/browse/gnome-screenshot">gnome-screenshot</a>, <a href="https://www.kde.org/applications/graphics/ksnapshot">ksnapshot</a> и т.д., которые при установке тянут за собой кучу пакетов.</p>
<p>Существует маленькая консольная утилита, специально разработанная для создания скриншотов. Называется она <a href="http://freshmeat.sourceforge.net/projects/scrot">scrot</a>.</p>
<p>В репозиториях Debian она конечно есть, устанавливается с минимумом зависимостей командой:</p>
<pre><code>$ sudo apt-get install scrot
</code></pre>
<p>Сначала определимся, куда мы будем складывать свои скриншоты. Я создал папку <code>~/Изображения/ScreenShots</code>.</p>
<p>Чтобы постоянно не лезть в консоль и не вводить руками команды, напишем скрипт, который будет создавать скриншот и сохранять его в папке, которую мы заранее подготовили. А запуск скрипта повесим на нужную нам клавишу.</p>
<blockquote>
<p>Ознакомиться со всеми возможными параметрами запуска утилиты можно на <a href="https://www.systutorials.com/docs/linux/man/1-scrot/">этой страничке</a>.</p>
</blockquote>
<p>Вот такой скрипт я использую:</p>
<hr />
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1"></a><span class="co">#!/bin/bash</span></span>
<span id="cb2-2"><a href="#cb2-2"></a></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="va">name=</span><span class="kw">`</span><span class="fu">date</span> +%x-%X-%N.png<span class="kw">`</span></span>
<span id="cb2-4"><a href="#cb2-4"></a></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="ex">scrot</span> ~/Изображения/ScreenShots/<span class="va">$name</span> -q 100 -d 10</span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="ex">mpv</span> ~/путь_до_звукового_файла/photosound.mp3</span></code></pre></div>
<hr />
<p>где<br />
<code>name</code> - формат имени создаваемого файла;<br />
<code>q</code> - качество картинки;<br />
<code>d</code>- отсрочка выполнения в секундах.</p>
<p>Иногда бывают ситуации, когда в нужный момент нажать клавишу для создания скриншота не получится. Например, когда открыто какое-нибудь окно, которое блокирует нажатие любых клавиш. Ну а чтобы понимать создался ли у вас скриншот, я добавил звуковое оповещение. Звуковой файл проигрывает консольный плеер <a href="https://mpv.io/">mpv</a>. У вас это может быть любое приложение или утилита, способная издавать звуки. Сам звуковой файл тоже может быть любым. Я для себя выбрал <a href="https://mega.nz/#!5VFhCTQK!uH3bBX4etq8496Zmd4asDHbWbHVksLgTFWsWW0Ydchw">звук затвора фотоаппарата</a>.</p>
<p>Осталось назначить клавишу, по нажатию на которую будет запускаться наш скрипт. Я выбрал клавишу <code>PrtSc</code>. Определяем код клавиши с помошью утилиты <code>xev</code> и редактируем наш файл <code>xmonad.hs</code>:</p>
<hr />
<div class="sourceCode" id="cb3"><pre class="sourceCode haskell"><code class="sourceCode haskell"><span id="cb3-1"><a href="#cb3-1"></a>myKeys <span class="ot">=</span> [</span>
<span id="cb3-2"><a href="#cb3-2"></a>         <span class="op">...</span></span>
<span id="cb3-3"><a href="#cb3-3"></a>         , ((<span class="dv">0</span>    , <span class="bn">0xff61</span>), spawn <span class="st">&quot;путь_до_нашего_скрипта&quot;</span>)</span>
<span id="cb3-4"><a href="#cb3-4"></a>         <span class="op">...</span></span>
<span id="cb3-5"><a href="#cb3-5"></a>         ]</span></code></pre></div>
<hr />
<blockquote>
<p>Я обычно делаю скриншот целого экрана. Всё равно, практически всегда, открываю созданный скриншот в редакторе <code>Gimp</code> и делаю нужные мне изменения. Если у вас есть необходимость постоянно делать скриншот выделенной области экрана, то работу scrot в таком режиме можно настроить, используя параметр <code>-s</code>.</p>
</blockquote>]]></description>
    <pubDate>Mon, 02 Apr 2018 00:00:00 UT</pubDate>
    <guid>https://chubaduba.github.io//posts/2018-04-02-1.html</guid>
    <dc:creator>ChubaDuba</dc:creator>
</item>

    </channel>
</rss>
