<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"
    xmlns:dc="http://purl.org/dc/elements/1.1/">
    <channel>
        <title>ChubaDuba - Посты с тегом systemd</title>
        <link>https://chubaduba.github.io/</link>
        <description><![CDATA[Блог ChubaDuba]]></description>
        <atom:link href="https://chubaduba.github.io//tags/systemd.xml" rel="self"
                   type="application/rss+xml" />
        <lastBuildDate>Tue, 06 Mar 2018 00:00:00 UT</lastBuildDate>
        <item>
    <title>Автологин и "startx" без дисплейного менеджера - Debian 9 Stretch</title>
    <link>https://chubaduba.github.io//posts/2018-03-06-1.html</link>
    <description><![CDATA[<p>Этот пост предназначен для пользователей, которые хотят автоматически войти в свою систему Debian 9 Stretch и запустить Xserver без необходимости вводить <code>startx</code> в командной строке.</p>
<blockquote>
<p>Естественно, в качестве системы инициализации выступает <code>systemd</code> - изкоробочный вариант в Debian 9 Stretch.</p>
</blockquote>
<p>Для автологина создаём файл <code>/etc/systemd/system/getty@tty1.service.d/override.conf</code> (от имени root) со следующим содержимым:</p>
<pre><code>[Service]
ExecStart=
ExecStart=-/sbin/agetty --autologin user_name --noclear %I $TERM
</code></pre>
<p>Здесь нужно заменить <code>user_name</code> на ваше имя пользователя.</p>
<p>Для автозапуска <code>startx</code> добавляем строчку в конец нашего файла <code>~/.profile</code>:</p>
<pre><code>[ &quot;$(tty)&quot; = &quot;/dev/tty1&quot; ] &amp;&amp; exec startx
</code></pre>
<p>В заключении нужно установить правильный параметр <code>default.target</code>, чтобы система загружалась на консоль (TTY), а не в диспетчер дисплея:</p>
<pre><code># systemctl set-default multi-user.target
</code></pre>
<p>Если вы всё сделали правильно, и при условии того, что у вас всё работало в ручном режиме, т.е. вы могли залогинится после старта системы и потом запустить <code>startx</code>, то после перезагрузки вы автоматически загрузитесь под своим именем в свой оконный менеджер.</p>
<p>Отменить изменение значения <code>default.target</code> можно с помощью команды:</p>
<pre><code># systemctl set-default graphical.target
</code></pre>]]></description>
    <pubDate>Tue, 06 Mar 2018 00:00:00 UT</pubDate>
    <guid>https://chubaduba.github.io//posts/2018-03-06-1.html</guid>
    <dc:creator>ChubaDuba</dc:creator>
</item>

    </channel>
</rss>
